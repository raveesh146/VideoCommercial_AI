{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import PersonaForm from'./PersonaForm';import SearchBar from'./searchBar';import ImageDisplay from'./ImageDisplay';import VideoGenerator from'./VideoGenerator';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImageFetcher=()=>{const[imageUrl,setImageUrl]=useState('');const[personaDescription,setPersonaDescription]=useState('');const fetchImage=async query=>{try{const response=await axios.get('http://localhost:5001/fetch-image',{params:{q:query}});setImageUrl(response.data.url);}catch(error){console.error('Error fetching image:',error);}};const handlePersonaSubmit=personaData=>{const{age,skinColor,traits,voiceType}=personaData;const description=`${age} years old, ${skinColor}, ${traits}, voice type: ${voiceType}`;setPersonaDescription(description);fetchImage(description);// Automatically fetch image with the persona description\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PersonaForm,{onSubmit:handlePersonaSubmit}),personaDescription&&/*#__PURE__*/_jsx(SearchBar,{onSearch:fetchImage,initialQuery:personaDescription}),/*#__PURE__*/_jsx(ImageDisplay,{imageUrl:imageUrl}),imageUrl&&/*#__PURE__*/_jsx(VideoGenerator,{imageUrl:imageUrl})]});};export default ImageFetcher;","map":{"version":3,"names":["React","useState","axios","PersonaForm","SearchBar","ImageDisplay","VideoGenerator","jsx","_jsx","jsxs","_jsxs","ImageFetcher","imageUrl","setImageUrl","personaDescription","setPersonaDescription","fetchImage","query","response","get","params","q","data","url","error","console","handlePersonaSubmit","personaData","age","skinColor","traits","voiceType","description","children","onSubmit","onSearch","initialQuery"],"sources":["/Users/raveesh/Documents/Commercial_AI/frontend/src/components/ImageFetcher.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport PersonaForm from './PersonaForm';\nimport SearchBar from './searchBar';\nimport ImageDisplay from './ImageDisplay';\nimport VideoGenerator from './VideoGenerator';\n\nconst ImageFetcher = () => {\n  const [imageUrl, setImageUrl] = useState('');\n  const [personaDescription, setPersonaDescription] = useState('');\n\n  const fetchImage = async (query) => {\n    try {\n      const response = await axios.get('http://localhost:5001/fetch-image', {\n        params: { q: query }\n      });\n      setImageUrl(response.data.url);\n    } catch (error) {\n      console.error('Error fetching image:', error);\n    }\n  };\n\n  const handlePersonaSubmit = (personaData) => {\n    const { age, skinColor, traits, voiceType } = personaData;\n    const description = `${age} years old, ${skinColor}, ${traits}, voice type: ${voiceType}`;\n    setPersonaDescription(description);\n    fetchImage(description); // Automatically fetch image with the persona description\n  };\n\n  return (\n    <div>\n      {/* Render PersonaForm first */}\n      <PersonaForm onSubmit={handlePersonaSubmit} />\n\n      {/* Render the SearchBar with the persona description (if needed) */}\n      {personaDescription && <SearchBar onSearch={fetchImage} initialQuery={personaDescription} />}\n\n      {/* Display the fetched image */}\n      <ImageDisplay imageUrl={imageUrl} />\n\n      {/* If there's an image, render the VideoGenerator */}\n      {imageUrl && <VideoGenerator imageUrl={imageUrl} />}\n    </div>\n  );\n};\n\nexport default ImageFetcher;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEhE,KAAM,CAAAe,UAAU,CAAG,KAAO,CAAAC,KAAK,EAAK,CAClC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,CAAC,mCAAmC,CAAE,CACpEC,MAAM,CAAE,CAAEC,CAAC,CAAEJ,KAAM,CACrB,CAAC,CAAC,CACFJ,WAAW,CAACK,QAAQ,CAACI,IAAI,CAACC,GAAG,CAAC,CAChC,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAED,KAAM,CAAAE,mBAAmB,CAAIC,WAAW,EAAK,CAC3C,KAAM,CAAEC,GAAG,CAAEC,SAAS,CAAEC,MAAM,CAAEC,SAAU,CAAC,CAAGJ,WAAW,CACzD,KAAM,CAAAK,WAAW,CAAG,GAAGJ,GAAG,eAAeC,SAAS,KAAKC,MAAM,iBAAiBC,SAAS,EAAE,CACzFhB,qBAAqB,CAACiB,WAAW,CAAC,CAClChB,UAAU,CAACgB,WAAW,CAAC,CAAE;AAC3B,CAAC,CAED,mBACEtB,KAAA,QAAAuB,QAAA,eAEEzB,IAAA,CAACL,WAAW,EAAC+B,QAAQ,CAAER,mBAAoB,CAAE,CAAC,CAG7CZ,kBAAkB,eAAIN,IAAA,CAACJ,SAAS,EAAC+B,QAAQ,CAAEnB,UAAW,CAACoB,YAAY,CAAEtB,kBAAmB,CAAE,CAAC,cAG5FN,IAAA,CAACH,YAAY,EAACO,QAAQ,CAAEA,QAAS,CAAE,CAAC,CAGnCA,QAAQ,eAAIJ,IAAA,CAACF,cAAc,EAACM,QAAQ,CAAEA,QAAS,CAAE,CAAC,EAChD,CAAC,CAEV,CAAC,CAED,cAAe,CAAAD,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}